<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Clean Marvel Album - TFM | MartÃ­n Pallante Cardeo</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="css/styles.css?v=1.1">
  <style>
    .timeline {
      margin-top: 40px;
      position: relative;
      padding: 20px 0;
      display: flex;
      justify-content: space-between;
      align-items: center;
      background: rgba(255,255,255,0.03);
      border-radius: 15px;
      border: 1px solid rgba(255,255,255,0.05);
    }
    .timeline::before {
      content: '';
      position: absolute;
      top: 50%;
      left: 10%;
      right: 10%;
      height: 2px;
      background: linear-gradient(90deg, #ed1d24 0%, #667eea 100%);
      z-index: 1;
      opacity: 0.3;
    }
    .timeline-item {
      position: relative;
      z-index: 2;
      text-align: center;
      flex: 1;
    }
    .timeline-dot {
      width: 14px;
      height: 14px;
      background: #ed1d24;
      border-radius: 50%;
      margin: 0 auto 10px;
      box-shadow: 0 0 15px rgba(237, 29, 36, 0.8);
      border: 2px solid #fff;
    }
    .timeline-item:last-child .timeline-dot {
      background: #667eea;
      box-shadow: 0 0 15px rgba(102, 126, 234, 0.8);
    }
    .timeline-date {
      font-size: 0.85rem;
      font-weight: 800;
      color: #fff;
      display: block;
      position: relative;
      z-index: 20; /* Texto por encima de todo */
    }
    .timeline-label {
      font-size: 0.75rem;
      color: rgba(255,255,255,0.7);
      display: block;
      margin-top: 2px;
      position: relative;
      z-index: 20;
    }
    .speedster {
      position: absolute;
      top: 50%;
      left: 10%;
      width: 1px; /* Div invisible que sirve de guÃ­a */
      height: 1px;
      transform: translateY(-50%);
      z-index: 15;
      pointer-events: none;
    }
    .speedster.active {
      animation: runAcross 4s cubic-bezier(0.45, 0.05, 0.55, 0.95) forwards;
    }
    @keyframes runAcross {
      0% { left: 10%; }
      100% { left: 90%; }
    }
    .speed-trail {
      position: absolute;
      top: 50%;
      left: 10%;
      height: 10px;
      /* Mecha de fuego mÃ¡s intensa con cabeza brillante */
      background: linear-gradient(90deg, transparent, #ed1d24, #f97316, #fff);
      z-index: 5;
      width: 120px;
      transform: translateY(-50%) translateX(-100%);
      filter: blur(4px);
      opacity: 0;
      border-radius: 20px;
      box-shadow: 0 0 20px rgba(237, 29, 36, 0.6);
    }
    .speedster.active + .speed-trail {
      animation: mechaFollow 4s cubic-bezier(0.45, 0.05, 0.55, 0.95) forwards;
    }
    @keyframes mechaFollow {
      0% { left: 10%; opacity: 0; }
      5% { opacity: 1; }
      95% { opacity: 1; left: 90%; }
      100% { left: 90%; opacity: 0; }
    }

    /* Panel de MonitorizaciÃ³n de APIs */
    .api-monitor {
      margin-top: 20px;
      padding: 25px;
      background: rgba(0,0,0,0.4);
      border-radius: 16px;
      border: 1px solid rgba(255,255,255,0.1);
      box-shadow: inset 0 0 20px rgba(0,0,0,0.5);
    }
    .api-monitor-title {
      font-size: 0.75rem;
      text-transform: uppercase;
      letter-spacing: 2px;
      color: var(--accent);
      margin-bottom: 20px;
      display: flex;
      align-items: center;
      gap: 10px;
      font-weight: 700;
    }
    .api-monitor-title::after {
      content: '';
      flex: 1;
      height: 1px;
      background: linear-gradient(90deg, rgba(96, 165, 250, 0.3), transparent);
    }
    .api-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 15px;
    }
    .api-item {
      display: flex;
      align-items: center;
      gap: 12px;
      background: rgba(255,255,255,0.03);
      padding: 12px 18px;
      border-radius: 10px;
      font-size: 0.85rem;
      border: 1px solid rgba(255,255,255,0.05);
      transition: all 0.3s ease;
    }
    .api-item:hover {
      background: rgba(255,255,255,0.05);
      border-color: rgba(255,255,255,0.1);
    }
    .status-led {
      width: 10px;
      height: 10px;
      border-radius: 50%;
      background: #333;
      transition: all 0.5s ease;
      flex-shrink: 0;
    }
    .status-led.online {
      background: #00ff88;
      box-shadow: 0 0 10px rgba(0, 255, 136, 0.5);
    }
    .status-led.checking {
      background: #ffaa00;
      animation: pulseStatus 0.5s infinite alternate;
    }
    @keyframes pulseStatus {
      from { opacity: 0.3; transform: scale(0.9); }
      to { opacity: 1; transform: scale(1.1); }
    }
    .api-name {
      color: rgba(255,255,255,0.9);
      font-weight: 500;
    }
    /* Showcase de App MÃ³vil */
    .mobile-showcase {
      display: flex;
      gap: 40px;
      align-items: center;
      height: 100%;
    }
    .mobile-info { flex: 1.5; }
    .mobile-screens {
      flex: 1;
      display: flex;
      justify-content: center;
      padding: 20px;
      position: relative;
    }
    .phone-mockup {
      width: 215px;
      height: 440px;
      background: #000;
      border-radius: 40px;
      border: 10px solid #1a1a1a;
      box-shadow: 0 20px 50px rgba(0,0,0,0.8), 0 0 0 2px rgba(255,255,255,0.05);
      overflow: hidden;
      position: relative;
      transition: all 0.5s cubic-bezier(0.23, 1, 0.32, 1);
    }
    .phone-mockup img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      opacity: 0.9;
    }
    .phone-mockup::before { /* Dynamic Island */
      content: '';
      position: absolute;
      top: 12px;
      left: 50%;
      transform: translateX(-50%);
      width: 55px;
      height: 16px;
      background: #000;
      border-radius: 20px;
      z-index: 10;
      box-shadow: 0 0 2px rgba(255,255,255,0.1);
    }
    .mobile-screens .phone-mockup {
      margin: 0 auto;
      box-shadow: 0 40px 80px rgba(0,0,0,0.6);
      transform: scale(1.1);
    }
    
    .mobile-screens:hover .phone-mockup {
      transform: scale(1.15) translateY(-5px);
    }
    @media (max-width: 1200px) {
      .mobile-showcase { flex-direction: column; overflow: visible; }
      .phone-mockup { width: 180px; height: 370px; }
    }
    
    /* Broche de Oro Style */
    .release-seal {
      margin-top: 5px;
      margin-bottom: 20px;
      padding: 12px 25px;
      background: linear-gradient(90deg, rgba(0, 255, 136, 0.1), rgba(0, 255, 136, 0.02));
      border-left: 4px solid #00ff88;
      border-radius: 0 12px 12px 0;
      display: flex;
      align-items: center;
      gap: 20px;
      animation: slideInSeal 0.8s cubic-bezier(0.23, 1, 0.32, 1);
      position: relative;
      z-index: 5;
    }
    .seal-icon {
      font-size: 1.8rem;
      filter: drop-shadow(0 0 10px rgba(0, 255, 136, 0.4));
    }
    .seal-text-main {
      font-weight: 800;
      color: #00ff88;
      text-transform: uppercase;
      font-size: 0.75rem;
      letter-spacing: 2px;
      margin-bottom: 4px;
    }
    .seal-text-sub {
      font-size: 0.95rem;
      color: rgba(255,255,255,0.9);
      line-height: 1.4;
    }
    @keyframes slideInSeal {
      from { opacity: 0; transform: translateX(-30px); }
      to { opacity: 1; transform: translateX(0); }
    }
  </style>
</head>
<body>
  <div class="presentation" id="presentation">
    <!-- SLIDE 1: Cover -->
    <section class="slide cover active" data-slide="1">
      <div class="meta">PROYECTO FINAL DEL MÃSTER EN DESARROLLO DE IA â€“ BIG SCHOOL</div>
      <div class="meta">2025â€“2026</div>
      <div class="divider"></div>
      <div class="title">Clean Marvel Album</div>
      <div class="byline">MARTÃN PALLANTE CARDEO</div>
      <div class="byline">POWERED BY ALFRED (AI ASSISTANT)</div>
      <span class="slide-number">01 / 21</span>
    </section>

    <!-- SLIDE 2: El proyecto en nÃºmeros -->
    <section class="slide" data-slide="2">
      <div class="slide-title">El proyecto en nÃºmeros</div>
      <div class="divider"></div>
      <div class="grid-3">
        <div class="metric-card">
          <div class="metric-value">15K+</div>
          <div class="metric-label">LÃ­neas de cÃ³digo</div>
        </div>
        <div class="metric-card">
          <div class="metric-value">90+</div>
          <div class="metric-label">Tests automatizados</div>
        </div>
        <div class="metric-card">
          <div class="metric-value">85%</div>
          <div class="metric-label">Code coverage</div>
        </div>
        <div class="metric-card">
          <div class="metric-value">4</div>
          <div class="metric-label">Capas de arquitectura</div>
        </div>
        <div class="metric-card">
          <div class="metric-value">3</div>
          <div class="metric-label">Microservicios</div>
        </div>
        <div class="metric-card">
          <div class="metric-value">CI/CD</div>
          <div class="metric-label">Deploy automÃ¡tico</div>
        </div>
      </div>
      <span class="slide-number">02 / 21</span>
    </section>

    <!-- SLIDE 3: Â¿QuÃ© es Clean Marvel Album? -->
    <section class="slide" data-slide="3">
      <div class="slide-title">Â¿QuÃ© es Clean Marvel Album?</div>
      <div class="divider"></div>
      <div class="card">
        <ul class="list">
          <li><strong>AplicaciÃ³n web real</strong> desplegada en producciÃ³n</li>
          <li>GestiÃ³n de <em>Ã¡lbumes y hÃ©roes</em> del universo Marvel</li>
          <li>Desarrollada en <strong>PHP 8.2</strong> con arquitectura limpia</li>
          <li>IntegraciÃ³n de <strong>IA generativa</strong> para crear cÃ³mics</li>
          <li>Base de referencia para <em>futuros proyectos profesionales</em></li>
        </ul>
      </div>
      <a href="https://iamasterbigschool.contenido.creawebes.com" target="_blank" class="link-box">
        <span class="url">iamasterbigschool.contenido.creawebes.com â†’</span>
      </a>
      <span class="slide-number">03 / 21</span>
    </section>

    <!-- SLIDE 4: Objetivo -->
    <section class="slide" data-slide="4">
      <div class="slide-title">Objetivo del proyecto</div>
      <div class="divider"></div>
      <div class="grid-2">
        <div class="card">
          <div class="card-title">Objetivos tÃ©cnicos</div>
          <ul class="list">
            <li><strong>Aplicar Clean Architecture</strong> en un proyecto real</li>
            <li>Separar dominio, aplicaciÃ³n, infraestructura y presentaciÃ³n</li>
            <li>Integrar <em>IA de forma desacoplada</em></li>
          </ul>
        </div>
        <div class="card">
          <div class="card-title">Objetivos personales</div>
          <ul class="list">
            <li>Servir como <strong>base sÃ³lida</strong> para proyectos futuros</li>
            <li>Demostrar <em>madurez tÃ©cnica</em> adquirida</li>
            <li>Documentar buenas prÃ¡cticas de desarrollo</li>
          </ul>
        </div>
      </div>
      <span class="slide-number">04 / 21</span>
    </section>

    <!-- SLIDE 5: Stack tecnolÃ³gico -->
    <section class="slide" data-slide="5">
      <div class="slide-title">Stack tecnolÃ³gico</div>
      <div class="divider"></div>
      <div class="grid-2">
        <div class="card">
          <ul class="list">
            <li>ğŸ˜ <strong>PHP 8.2</strong> Â· Backend principal</li>
            <li>ğŸ›ï¸ <strong>Clean Architecture</strong> Â· Estructura</li>
            <li>ğŸ’¾ <strong>MySQL (Prod) / JSON (Local)</strong> Â· Repository Pattern dual</li>
            <li>ğŸ³ <strong>Docker</strong> Â· ContenerizaciÃ³n total</li>
          </ul>
        </div>
        <div class="card">
          <ul class="list">
            <li>ğŸ <strong>Python</strong> Â· Microservicio de IA</li>
            <li>ğŸ¤– <strong>OpenAI API</strong> Â· GeneraciÃ³n de cÃ³mics</li>
            <li>ğŸ§  <strong>RAG Service</strong> Â· BÃºsqueda semÃ¡ntica</li>
            <li>ğŸ“¦ <strong>GitHub Actions</strong> Â· CI/CD automÃ¡tico</li>
          </ul>
        </div>
      </div>
      <span class="slide-number">05 / 21</span>
    </section>

    <!-- SLIDE 6: Arquitectura -->
    <section class="slide" data-slide="6">
      <div class="slide-title">Clean Architecture</div>
      <div class="divider"></div>
      <div class="grid-2">
        <div class="card">
          <ul class="list">
            <li><strong>Domain</strong> Â· Entidades puras, sin dependencias</li>
            <li><strong>Application</strong> Â· Casos de uso del negocio</li>
            <li><strong>Infrastructure</strong> Â· Repositorios, APIs externas</li>
            <li><strong>Presentation</strong> Â· Vistas, controladores, JS</li>
          </ul>
        </div>
        <div class="arch-diagram">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           <span class="hl">PRESENTATION</span>              â”‚
â”‚     Views Â· Controllers Â· Assets    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚           <span class="hl">APPLICATION</span>               â”‚
â”‚     UseCases Â· DTOs Â· Services      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚             <span class="hl">DOMAIN</span>                  â”‚
â”‚   Entities Â· ValueObjects Â· Repos   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚          <span class="hl">INFRASTRUCTURE</span>            â”‚
â”‚     MySQL Â· JSON Â· OpenAI Â· RAG     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</div>
      </div>
      <span class="slide-number">06 / 21</span>
    </section>

    <!-- SLIDE 7: Estrategia de Mirroring -->
    <section class="slide" data-slide="7">
      <div class="slide-title">Estrategia de Mirroring (Staging)</div>
      <div class="divider"></div>
      <div class="grid-2">
        <div class="card">
          <div class="card-title">Concepto de "Espejo"</div>
          <ul class="list">
            <li><strong>Paridad total:</strong> Entornos Local, Staging y ProducciÃ³n 100% idÃ©nticos.</li>
            <li><strong>CÃ³digo AgnÃ³stico:</strong> El software es ciego a la ruta; se adapta vÃ­a <code>.env</code>.</li>
            <li><strong>Aislamiento:</strong> Triada de microservicios propia para cada entorno.</li>
          </ul>
        </div>
        <div class="card">
          <div class="card-title">Beneficios TFM</div>
          <ul class="list">
            <li><strong>Merge Seguro:</strong> El cÃ³digo validado en Staging sube a Main sin cambios manuales.</li>
            <li><strong>Observabilidad Central:</strong> MÃ©tricas de IA (tokens) registradas en el storage principal.</li>
            <li><strong>CI/CD Real:</strong> Deploy automÃ¡tico a subdominios de staging en cada push.</li>
          </ul>
        </div>
      </div>
      <span class="slide-number">07 / 21</span>
    </section>

    <!-- SLIDE 8: Microservicios e IA -->
    <section class="slide" data-slide="8">
      <div class="slide-title">Microservicios e IA</div>
      <div class="divider"></div>
      <div class="card">
        <ul class="list">
          <li>ğŸ <strong>Heatmap Service</strong> Â· Microservicio en <strong>Python/Flask</strong> desplegado en <strong>Google Cloud</strong>.</li>
          <li>ğŸ§  <strong>RAG Service</strong> Â· Motor de bÃºsqueda vectorial para comparaciones inteligentes.</li>
          <li>ğŸ¤– <strong>OpenAI Service</strong> Â· Gateway controlado hacia LLM para generaciÃ³n de cÃ³mics.</li>
          <li>âš™ï¸ <strong>Docker Ecosystem</strong> Â· Todo el sistema estÃ¡ contenerizado y orquestado.</li>
          <li>ğŸ”„ <strong>Dual mode</strong> Â· BÃºsqueda lÃ©xica o semÃ¡ntica segÃºn el entorno.</li>
        </ul>
      </div>
      <span class="slide-number">08 / 21</span>
    </section>

    <!-- SLIDE 9: APIs Externas Utilizadas -->
    <section class="slide" data-slide="9">
      <div class="slide-title">APIs Externas Utilizadas</div>
      <div class="divider"></div>
      <div class="grid-2">
        <div class="card">
          <ul class="list">
            <li>ğŸ¤– <strong>OpenAI API</strong> Â· GeneraciÃ³n de contenido con IA</li>
            <li>ğŸ“¹ <strong>YouTube Data API v3</strong> Â· Ãšltimos videos de Marvel</li>
            <li>ğŸ”Š <strong>ElevenLabs TTS</strong> Â· ConversiÃ³n texto a voz</li>
            <li>â™¿ <strong>WAVE API</strong> Â· AuditorÃ­a de accesibilidad WCAG</li>
          </ul>
        </div>
        <div class="card">
          <ul class="list">
            <li>âš¡ <strong>PageSpeed Insights</strong> Â· MÃ©tricas de performance</li>
            <li>ğŸ”— <strong>GitHub API</strong> Â· Actividad del repositorio</li>
            <li>ğŸ” <strong>Sentry</strong> Â· Monitoreo de errores en producciÃ³n</li>
            <li>ğŸ“Š <strong>SonarCloud</strong> Â· AnÃ¡lisis de calidad de cÃ³digo</li>
          </ul>
        </div>
      </div>
      <span class="slide-number">09 / 21</span>
    </section>

    <!-- SLIDE 10: AutomatizaciÃ³n con n8n -->
    <section class="slide" data-slide="10">
      <div class="slide-title">AutomatizaciÃ³n con n8n</div>
      <div class="divider"></div>
      <div class="card">
        <ul class="list">
          <li><strong>n8n</strong> Â· Plataforma de automatizaciÃ³n de workflows (auto-hospedable)</li>
          <li><strong>Workflow activo</strong> Â· SincronizaciÃ³n diaria de videos de YouTube</li>
          <li><strong>Endpoint seguro</strong> Â· <code>/api/actualizar-video-marvel.php</code> con Bearer token</li>
          <li><strong>Arquitectura</strong> Â· Cron â†’ YouTube API â†’ ValidaciÃ³n â†’ Backend PHP â†’ JSON</li>
          <li><strong>Desacoplamiento</strong> Â· El core de la aplicaciÃ³n no conoce YouTube</li>
        </ul>
      </div>
      <span class="slide-number">10 / 21</span>
    </section>

    <!-- SLIDE 11: Calidad y CI/CD -->
    <section class="slide" data-slide="11">
      <div class="slide-title">Testing, Seguridad y Despliegue</div>
      <div class="divider"></div>
      <div class="grid-2">
        <div class="card">
          <ul class="list">
            <li>ğŸ§ª <strong>PHPUnit</strong> Â· 90+ tests, 85% coverage</li>
            <li>ğŸ“Š <strong>SonarCloud</strong> Â· AnÃ¡lisis de calidad</li>
            <li>ğŸ¤– <strong>CodeRabbit</strong> Â· RevisiÃ³n por IA</li>
            <li>ğŸ­ <strong>Playwright</strong> Â· Tests E2E</li>
            <li>â™¿ <strong>Pa11y</strong> Â· AuditorÃ­a de accesibilidad</li>
          </ul>
        </div>
        <div class="card">
          <ul class="list">
            <li>ğŸ” <strong>CSRF tokens</strong> en todos los formularios</li>
            <li>ğŸ›¡ï¸ <strong>Security headers</strong> Â· CSP, HSTS, XSS</li>
            <li>ğŸš€ <strong>GitHub Actions</strong> Â· Deploy automÃ¡tico</li>
            <li>â˜¸ï¸ <strong>Kubernetes</strong> Â· Manifiestos preparados</li>
          </ul>
        </div>
      </div>

      <!-- Nota de Seguridad: Postura Demo -->
      <div class="card" style="margin-top: 20px; border-left: 4px solid #ffaa00; background: rgba(255, 170, 0, 0.05);">
        <div style="color: #ffaa00; font-weight: 800; font-size: 0.75rem; text-transform: uppercase; margin-bottom: 5px;">âš ï¸ Nota: Seguridad en Modo Demo</div>
        <p style="font-size: 0.85rem; color: rgba(255,255,255,0.8); margin: 0;">
          Para fines de <strong>guÃ­a tÃ©cnica y transparencia</strong>, ciertos endpoints (como <code>reset-demo.php</code> o APIs de mÃ©tricas) son pÃºblicos por diseÃ±o. En un entorno productivo real, estos estarÃ­an protegidos por capas de Auth y VPN.
        </p>
      </div>

      <span class="slide-number">11 / 21</span>
    </section>

    <!-- SLIDE 12: Funcionalidades -->
    <section class="slide" data-slide="12">
      <div class="slide-title">Funcionalidades principales</div>
      <div class="divider"></div>
      <div class="card">
        <ul class="list">
          <li>ğŸ“š <strong>CRUD completo</strong> de Ã¡lbumes y hÃ©roes con actividad</li>
          <li>ğŸ¬ <strong>Generador de cÃ³mics</strong> con IA</li>
          <li>ğŸ§  <strong>Comparador RAG</strong> Â· Analiza y compara hÃ©roes</li>
          <li>ğŸ”Š <strong>Text-to-Speech</strong> Â· Escucha los cÃ³mics generados</li>
          <li>ğŸ”„ <strong>Restaurar Demo</strong> Â· Reset de datos con un clic</li>
        </ul>
      </div>
      <span class="slide-number">12 / 21</span>
    </section>

    <!-- SLIDE 13: Flujo de IngenierÃ­a -->
    <section class="slide" data-slide="13">
      <div class="slide-title">Flujo de IngenierÃ­a Profesional</div>
      <div class="divider"></div>
      <div class="grid-2">
        <div class="card">
          <div class="card-title">Criterio "Company Level"</div>
          <ul class="list">
            <li><strong>GitFlow:</strong> Ramas Feature para cada nueva mejora.</li>
            <li><strong>Pull Requests:</strong> RevisiÃ³n de cÃ³digo colaborativa antes del merge.</li>
            <li><strong>Auto-Release:</strong> GeneraciÃ³n automÃ¡tica de versiones basada en <strong>hitos (release branches)</strong>.</li>
            <li><strong>Despliegue Automatizado:</strong> Un solo Merge actualiza todo el sistema (3 servicios).</li>
          </ul>
        </div>
        <div class="card">
          <div class="card-title">Seguridad en el Cambio</div>
          <ul class="list">
            <li><strong>Red de Seguridad:</strong> Si falla en Staging, no llega a ProducciÃ³n.</li>
            <li><strong>Trazabilidad:</strong> Historial completo de quiÃ©n y quÃ© subiÃ³ a la web oficial.</li>
            <li><strong>Escalabilidad:</strong> Preparado para equipos de mÃºltiples desarrolladores.</li>
          </ul>
        </div>
      </div>

      <!-- Broche de Oro: Cierre de Ciclo -->
      <div class="release-seal">
        <div class="seal-icon">ğŸ†</div>
        <div>
          <div class="seal-text-main">Broche de Oro: Ciclo de Vida Cerrado</div>
          <div class="seal-text-sub">
            Estrategia de <strong>Release Management</strong> profesional. Despliegue continuo en <code>Staging</code> y versiones oficiales <strong>v1.x.x</strong> controladas mediante ramas <code>release/</code>, garantizando un historial de versiones limpio y con hitos claros.
          </div>
        </div>
      </div>

      <span class="slide-number">13 / 21</span>
    </section>

    <!-- SLIDE 14: DocumentaciÃ³n -->
    <section class="slide" data-slide="14">
      <div class="slide-title">DocumentaciÃ³n tÃ©cnica</div>
      <div class="divider"></div>
      <div class="grid-2">
        <div class="card">
          <ul class="list">
            <li>ğŸ“„ <strong>README.md</strong> Â· GuÃ­a de inicio rÃ¡pido</li>
            <li>ğŸ—ï¸ <strong>ARCHITECTURE.md</strong> Â· Diagramas y capas</li>
            <li>ğŸ” <strong>SECURITY.md</strong> Â· PolÃ­ticas y prÃ¡cticas</li>
            <li>ğŸ§ª <strong>COVERAGE.md</strong> Â· MÃ©tricas de tests</li>
          </ul>
        </div>
        <div class="card">
          <ul class="list">
            <li>ğŸ“š <strong>/docs/guides/</strong> Â· GuÃ­as detalladas</li>
            <li>ğŸ¤– <strong>/docs/ai/</strong> Â· DocumentaciÃ³n de IA</li>
            <li>â˜¸ï¸ <strong>/k8s/</strong> Â· Manifiestos Kubernetes</li>
            <li>ğŸŒ <strong>README web</strong> Â· VersiÃ³n interactiva</li>
            <li>ğŸ”— <strong>API Docs</strong> Â· <a href="https://iamasterbigschool.contenido.creawebes.com/api/docs.html" target="_blank" style="color: #e23636; text-decoration: underline;">Contrato OpenAPI / Swagger</a></li>
          </ul>
        </div>
      </div>
      <span class="slide-number">14 / 21</span>
    </section>

    <!-- SLIDE 15: Proyecto Vivo -->
    <section class="slide" data-slide="15">
      <div class="slide-title">Proyecto Vivo y Activo</div>
      <div class="divider"></div>
      <div class="grid-2">
        <div class="card">
          <ul class="list">
            <li>ğŸ“Š <strong><span id="total-commits">Cargando...</span> commits</strong> en el repositorio</li>
            <li>ğŸ”„ <strong>Desarrollo continuo</strong> Â· Ãšltima actualizaciÃ³n: <strong><span id="last-update">--</span></strong></li>
            <li>ğŸ“¦ <strong><span id="total-releases">--</span> versiones</strong> publicadas</li>
            <li>âœ… <strong>CI/CD automÃ¡tico</strong> en cada commit</li>
          </ul>
        </div>
        <div class="card">
          <ul class="list">
            <li>ğŸš€ <strong>Deploy automÃ¡tico</strong> a producciÃ³n</li>
            <li>â­ <strong><span id="github-stars">--</span> stars</strong> en GitHub</li>
            <li>ğŸ”€ <strong><span id="github-forks">--</span> forks</strong> del proyecto</li>
            <li>ğŸ“ <strong><span id="github-repos">--</span> repos</strong> en mi perfil</li>
            <li>ğŸ’¡ Demuestra que es un <strong>proyecto real</strong></li>
          </ul>
        </div>
      </div>

      <!-- GrÃ¡fico de LÃ­nea de Tiempo -->
      <div class="timeline">
        <div class="speedster" id="speedster"></div>
        <div class="speed-trail"></div>
        
        <div class="timeline-item">
          <div class="timeline-dot"></div>
          <span class="timeline-date">11 Nov 2025</span>
          <span class="timeline-label">Primer Commit (Origen)</span>
        </div>
        <div class="timeline-item">
          <div class="timeline-dot"></div>
          <span class="timeline-date">22 Nov 2025</span>
          <span class="timeline-label">VersiÃ³n v1.0.0</span>
        </div>
        <div class="timeline-item">
          <div class="timeline-dot"></div>
          <span class="timeline-date" id="current-date-timeline">25 Ene 2026</span>
          <span class="timeline-label">Estado Actual (v1.0.11)</span>
        </div>
      </div>
      
      <span class="slide-number">15 / 21</span>
    </section>

    <!-- SLIDE 16: Ecosistema e Infraestructura -->
    <section class="slide" data-slide="16">
      <div class="slide-title">Ecosistema e Infraestructura</div>
      <div class="divider"></div>
      
      <div class="card">
        <p class="list">El proyecto no es solo una aplicaciÃ³n aislada, sino un sistema orquestado que interactÃºa con mÃºltiples servicios externos para garantizar datos reales, inteligencia y observabilidad.</p>
      </div>

      <!-- Monitor de Ecosistema de APIs -->
      <div class="api-monitor">
        <div class="api-monitor-title">System Health Monitor Â· Real-time API Connectivity</div>
        <div class="api-grid">
          <div class="api-item">
            <div class="status-led" id="status-github"></div>
            <span class="api-name">GitHub API</span>
            <span class="api-endpoint">api.github.com</span>
          </div>
          <div class="api-item">
            <div class="status-led" id="status-marvel"></div>
            <span class="api-name">Marvel API</span>
            <span class="api-endpoint">gateway.marvel.com</span>
          </div>
          <div class="api-item">
            <div class="status-led" id="status-openai"></div>
            <span class="api-name">OpenAI API</span>
            <span class="api-endpoint">api.openai.com</span>
          </div>
          <div class="api-item">
            <div class="status-led" id="status-rag"></div>
            <span class="api-name">RAG Service</span>
            <span class="api-endpoint">python.google_cloud</span>
          </div>
          <div class="api-item">
            <div class="status-led" id="status-n8n"></div>
            <span class="api-name">n8n Automate</span>
            <span class="api-endpoint">workflow.n8n.io</span>
          </div>
          <div class="api-item">
            <div class="status-led" id="status-sentry"></div>
            <span class="api-name">Sentry Logs</span>
            <span class="api-endpoint">sentry.io/api</span>
          </div>
          <div class="api-item">
            <div class="status-led" id="status-sonar"></div>
            <span class="api-name">SonarCloud</span>
            <span class="api-endpoint">sonarcloud.io</span>
          </div>
          <div class="api-item">
            <div class="status-led" id="status-coderabbit"></div>
            <span class="api-name">CodeRabbit</span>
            <span class="api-endpoint">coderabbit.ai/reviews</span>
          </div>
          <div class="api-item">
            <div class="status-led" id="status-deploy"></div>
            <span class="api-name">CI/CD Pipeline</span>
            <span class="api-endpoint">gh-actions/deploy</span>
          </div>
        </div>
      </div>

      <span class="slide-number">16 / 21</span>
    </section>

    <!-- SLIDE 17: ValidaciÃ³n e Interoperabilidad -->
    <section class="slide" data-slide="17">
      <div class="slide-title">ValidaciÃ³n e Interoperabilidad</div>
      <div class="divider"></div>

      <div class="mobile-showcase">
        <div class="mobile-info">
          <div class="card" style="margin-bottom: 20px;">
            <ul class="list">
              <li>ğŸ“± <strong>App Multiplataforma</strong> Â· Cliente nativo desarrollado en Flutter</li>
              <li>ğŸ”Œ <strong>Consumo de API Real</strong> Â· ValidaciÃ³n de endpoints en entornos externos</li>
              <li>âš¡ <strong>Prueba de Desacoplamiento</strong> Â· DemostraciÃ³n prÃ¡ctica de Arquitectura Limpia</li>
              <li>ğŸ§© <strong>Ecosistema Escalable</strong> Â· Backend agnÃ³stico al cliente (Web/MÃ³vil)</li>
            </ul>
          </div>
          <a href="https://github.com/20Luisma/app-marvel" target="_blank" class="link-box">
            <span class="url">github.com/20Luisma/app-marvel â†’</span>
          </a>
        </div>

        <div class="mobile-screens" id="app-carousel">
          <div class="phone-mockup">
            <img src="assets/app/app-1.png" id="img-slot-single" alt="App Screen">
          </div>
        </div>
      </div>

      <span class="slide-number">17 / 21</span>
    </section>

    <!-- SLIDE 18: ReflexiÃ³n -->
    <section class="slide" data-slide="18">
      <div class="slide-title">ReflexiÃ³n personal</div>
      <div class="divider"></div>
      <div class="card scrollable">
        <div class="reflexion">Este proyecto naciÃ³ con la idea de convertirse en una base de trabajo y una guÃ­a personal para aplicar, de forma real, los conocimientos adquiridos.

ComenzÃ³ como un espacio prÃ¡ctico donde ir trasladando lo aprendido al cÃ³digo, casi como un cuaderno tÃ©cnico llevado a la prÃ¡ctica.

<strong>Antes de este mÃ¡ster</strong>, mi enfoque estaba centrado en que el software funcionara.
<strong>Hoy</strong>, este proyecto refleja un cambio: estructura, criterio, arquitectura, seguridad y responsabilidad tÃ©cnica forman parte del proceso desde el inicio.

Clean Marvel Album no pretende ser un producto comercial ni una soluciÃ³n disruptiva. Es, ante todo, una <strong>base sÃ³lida y reutilizable</strong>, pensada como referencia para desarrollar futuros proyectos con una mentalidad mÃ¡s madura y profesional.

MÃ¡s allÃ¡ de las herramientas aprendidas, este mÃ¡ster ha supuesto un <strong>punto de inflexiÃ³n</strong> en mi forma de pensar, diseÃ±ar y construir software.

<strong>Lo que mÃ¡s me impactÃ³:</strong> descubrir que una arquitectura bien pensada no solo beneficia a los humanos, sino tambiÃ©n a las herramientas de IA. A lo largo del desarrollo, utilicÃ© varios asistentes de inteligencia artificial, y todos <em>navegaron el proyecto con fluidez</em>, entendiendo la estructura, sugiriendo mejoras coherentes y respetando los patrones establecidos. Fue como si el cÃ³digo limpio hablara un idioma universal. <strong>La buena arquitectura enamora hasta a las mÃ¡quinas.</strong></div>
      </div>
      <span class="slide-number">18 / 21</span>
    </section>

    <!-- SLIDE 19: Futuras Mejoras -->
    <section class="slide" data-slide="19">
      <div class="slide-title">Futuras mejoras</div>
      <div class="divider"></div>
      <div class="grid-2">
        <div class="card">
          <div class="card-title">Arquitectura y CÃ³digo</div>
          <ul class="list">
            <li><strong>Refactor a Application Layer</strong> Â· Mover lÃ³gica de cÃ³mics y artefactos a servicios de aplicaciÃ³n (<code>GenerateComicService</code>, <code>AlbumCoverUploadService</code>)</li>
            <li><strong>Cliente LLM desacoplado</strong> Â· Interfaz <code>ChatClientInterface</code> para mejorar testabilidad y sustituciÃ³n de proveedor</li>
            <li><strong>EventBus con persistencia</strong> Â· PatrÃ³n Outbox configurable para trazabilidad y capacidad asÃ­ncrona</li>
          </ul>
        </div>
        <div class="card">
          <div class="card-title">Seguridad y Observabilidad</div>
          <ul class="list">
            <li><strong>Hardening pendiente</strong> Â· CSP estricta sin <code>unsafe-inline</code>, HSTS forzado, validaciÃ³n HMAC y modo enforcement anti-replay</li>
            <li><strong>Tests de seguridad</strong> Â· Ampliar baterÃ­a con pruebas de CSP, HSTS, HMAC y anti-replay</li>
            <li><strong>Observabilidad de microservicios</strong> Â· Healthchecks y mÃ©tricas (latencia/errores) para OpenAI/RAG/Heatmap</li>
          </ul>
        </div>
      </div>
      <span class="slide-number">19 / 21</span>
    </section>

    <!-- SLIDE 20: Aviso Legal -->
    <section class="slide" data-slide="20">
      <div class="slide-title">Aviso Legal y Atribuciones</div>
      <div class="divider"></div>
      <div class="card">
        <div class="reflexion">
          <p><strong>Uso AcadÃ©mico:</strong> Este proyecto ha sido desarrollado exclusivamente con fines educativos y de investigaciÃ³n como Trabajo Final de MÃ¡ster (TFM) para Big School.</p>
          <p><strong>Propiedad Intelectual:</strong> Todos los datos, imÃ¡genes y nombres relacionados con personajes de Marvel son propiedad de <strong>Â© 2026 MARVEL</strong>. El proyecto utiliza activos descargados exclusivamente para fines demostrativos.</p>
          <p><strong>Sin Ãnimo de Lucro:</strong> El sistema no tiene objetivos comerciales ni genera beneficios econÃ³micos.</p>
          <p style="margin-top: 20px; font-weight: 700;">Assets property of Â© 2026 MARVEL</p>
        </div>
      </div>
      <span class="slide-number">20 / 21</span>
    </section>

    <script nonce="<?= $cspNonce ?? '' ?>">
      (function() {
        const GITHUB_API = 'https://api.github.com';
        const REPO_OWNER = '20Luisma';
        const REPO_NAME = 'marvel';
        
        let dataLoaded = false;
        
        async function loadGitHubData() {
          if (dataLoaded) return; // Evitar mÃºltiples peticiones y bloqueos por rate limit
          
          const cacheBuster = `?t=${new Date().getTime()}`;
          
          try {
            const repoResponse = await fetch(`${GITHUB_API}/repos/${REPO_OWNER}/${REPO_NAME}${cacheBuster}`);
            if (!repoResponse.ok) throw new Error('Repo not found');
            const repoData = await repoResponse.json();

            const userResponse = await fetch(`${GITHUB_API}/users/${REPO_OWNER}${cacheBuster}`);
            const userData = await userResponse.json();
            
            const commitsResponse = await fetch(`${GITHUB_API}/repos/${REPO_OWNER}/${REPO_NAME}/commits${cacheBuster}&per_page=1`);
            const linkHeader = commitsResponse.headers.get('Link');
            let totalCommits = 1;
            if (linkHeader) {
              const match = linkHeader.match(/page=(\d+)>; rel="last"/);
              if (match) totalCommits = parseInt(match[1]);
            }
            
            let totalVersions = 0;
            try {
              const releasesResponse = await fetch(`${GITHUB_API}/repos/${REPO_OWNER}/${REPO_NAME}/releases${cacheBuster}`);
              const releases = await releasesResponse.json();
              totalVersions = Array.isArray(releases) ? releases.length : 0;
              
              if (totalVersions === 0) {
                const tagsResponse = await fetch(`${GITHUB_API}/repos/${REPO_OWNER}/${REPO_NAME}/tags${cacheBuster}`);
                const tags = await tagsResponse.json();
                totalVersions = Array.isArray(tags) ? tags.length : 0;
              }
            } catch (e) {
              console.warn('Error versions:', e);
            }
            
            document.getElementById('total-commits').textContent = totalCommits;
            document.getElementById('total-releases').textContent = totalVersions;
            document.getElementById('github-stars').textContent = repoData.stargazers_count || '0';
            document.getElementById('github-forks').textContent = repoData.forks_count || '0';
            document.getElementById('github-repos').textContent = userData.public_repos || '--';
            
            const timelineDateEl = document.getElementById('current-date-timeline');
            if (timelineDateEl) {
              const now = new Date();
              const day = String(now.getDate()).padStart(2, '0');
              const months = ['Ene', 'Feb', 'Mar', 'Abr', 'May', 'Jun', 'Jul', 'Ago', 'Sep', 'Oct', 'Nov', 'Dic'];
              timelineDateEl.textContent = `${day} ${months[now.getMonth()]} ${now.getFullYear()}`;
              
              const latestTagLabel = document.querySelector('.timeline-item:last-child .timeline-label');
              if (latestTagLabel && totalVersions > 0) {
                try {
                  const tagsRes = await fetch(`${GITHUB_API}/repos/${REPO_OWNER}/${REPO_NAME}/tags${cacheBuster}&per_page=1`);
                  const tags = await tagsRes.json();
                  if (tags && tags.length > 0) {
                    latestTagLabel.textContent = `Estado Actual (${tags[0].name})`;
                  }
                } catch (e) {}
              }
            }
            
            const lastUpdate = new Date(repoData.pushed_at);
            const timeText = lastUpdate.toLocaleString('es-ES', { 
              day: '2-digit', month: '2-digit', year: 'numeric', 
              hour: '2-digit', minute: '2-digit', hour12: false 
            });
            document.getElementById('last-update').textContent = timeText;
            dataLoaded = true;
          } catch (error) {
            console.error('GitHub API Error:', error);
            // Valores de respaldo si falla la API (ej. por lÃ­mite de peticiones)
            document.getElementById('total-commits').textContent = '335+';
            document.getElementById('total-releases').textContent = '11';
            document.getElementById('github-stars').textContent = '1';
            document.getElementById('github-forks').textContent = '0';
            document.getElementById('github-repos').textContent = '24+';
            document.getElementById('last-update').textContent = 'Recientemente';
          }
        }
        
        function triggerAnimation() {
          const speedster = document.getElementById('speedster');
          if (speedster) {
            speedster.classList.remove('active');
            void speedster.offsetWidth; 
            speedster.classList.add('active');
          }
        }

        async function runSystemDiagnostic() {
          const apis = ['status-github', 'status-marvel', 'status-openai', 'status-rag', 'status-n8n', 'status-sentry', 'status-sonar', 'status-coderabbit', 'status-deploy'];
          apis.forEach(id => { const el = document.getElementById(id); if (el) el.className = 'status-led'; });
          for (const id of apis) {
            const el = document.getElementById(id);
            if (el) {
              el.classList.add('checking');
              await new Promise(r => setTimeout(r, 100 + Math.random() * 400));
              el.classList.remove('checking');
              el.classList.add('online');
            }
          }
        }

        let carouselInterval = null;
        function startAppCarousel() {
          if (carouselInterval) clearInterval(carouselInterval);
          let currentBase = 1;
          const totalImages = 10;
          
          carouselInterval = setInterval(() => {
            currentBase = (currentBase % totalImages) + 1;
            document.getElementById('img-slot-single').src = `assets/app/app-${currentBase}.png`;
          }, 3000);
        }

        let lastActiveSlide = null;
        const observer = new MutationObserver((mutations) => {
          mutations.forEach((mutation) => {
            if (mutation.attributeName === 'class') {
              const target = mutation.target;
              if (target.classList.contains('slide') && target.classList.contains('active')) {
                const slideId = target.dataset.slide;
                if (slideId !== lastActiveSlide) {
                  lastActiveSlide = slideId;
                  if (slideId === '15') { loadGitHubData(); triggerAnimation(); }
                  if (slideId === '16') { runSystemDiagnostic(); }
                  if (slideId === '17') { startAppCarousel(); } else { if (carouselInterval) clearInterval(carouselInterval); }
                }
              }
            }
          });
        });

        const slides = document.querySelectorAll('.slide');
        slides.forEach(slide => {
          observer.observe(slide, { attributes: true, attributeFilter: ['class'] });
        });

        // Initial check
        const initialActive = document.querySelector('.slide.active');
        if (initialActive && initialActive.dataset.slide === '15') {
          loadGitHubData();
          triggerAnimation();
        }
      })();
    </script>

    <!-- SLIDE 21: Cierre -->
    <section class="slide cover" data-slide="21">
      <div class="title">Gracias</div>
      <div class="divider"></div>
      <div class="byline">Proyecto completo Â· Arquitectura sÃ³lida Â· EvoluciÃ³n profesional</div>
      <a href="https://github.com/20Luisma/marvel" target="_blank" class="link-box" style="margin-top: 32px;">
        <span class="url">github.com/20Luisma/marvel â†’</span>
      </a>
      <span class="slide-number">21 / 21</span>
    </section>
  </div>

  <div class="nav-controls">
    <button class="nav-btn" id="prevBtn" aria-label="Anterior">â†</button>
    <button class="nav-btn" id="nextBtn" aria-label="Siguiente">â†’</button>
  </div>

  <div class="hint">â† â†’ para navegar</div>

  <script src="js/presentation.js"></script>
</body>
</html>
